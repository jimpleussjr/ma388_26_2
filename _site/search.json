[
  {
    "objectID": "lessons/lsn_2_intro_to_R.html",
    "href": "lessons/lsn_2_intro_to_R.html",
    "title": "MA388 Sabermetrics: Lesson 2",
    "section": "",
    "text": "library(Lahman)\nlibrary(tidyverse)\nlibrary(knitr)"
  },
  {
    "objectID": "lessons/lsn_2_intro_to_R.html#compiling-an-.rmd-file",
    "href": "lessons/lsn_2_intro_to_R.html#compiling-an-.rmd-file",
    "title": "MA388 Sabermetrics: Lesson 2",
    "section": "Compiling an .Rmd file",
    "text": "Compiling an .Rmd file\nYou’ll submit most (all?) assignments in this course as PDFs via the Class Notebook in Teams. Let’s make sure you can produce a PDF from R Markdown. If you already know how to do this, sit tight for a minute…\nIf this is new for you, you’ll need to install a TeX distribution. This is easy with TinyTeX.\n\ninstall.packages(\"tinytex\")\n\nWith that package loaded, you’re ready to install TeX.\n\ntinytex::install_tinytex()\n\nNow you should be able to download the source file for these class notes (see Class Notebook - Lesson 2) and “Knit to PDF.” Make sure this works before the end of class today."
  },
  {
    "objectID": "lessons/lsn_2_intro_to_R.html#review",
    "href": "lessons/lsn_2_intro_to_R.html#review",
    "title": "MA388 Sabermetrics: Lesson 2",
    "section": "Review",
    "text": "Review\n\nYou are investigating whether the hit-and-run is a good strategy. Which data set should you use?\n\n\nYou are investigating whether pitchers throw more fastballs to hitters at the bottom of the batting order. Which data set would you use?\n\n\nUse R to find career batting average (H/AB) leaders of your favorite team. More specifically, select a team and report a table of the 10 players with at least 2500 at bats (AB) with the highest batting averages while playing for that team.\n\n\n\n\nRed Sox Career Batting Average Leaders\n\n\nplayerID\nH\nAB\nAVG\n\n\n\n\nwillite01\n2654\n7706\n0.344\n\n\nboggswa01\n2098\n6213\n0.338\n\n\nspeaktr01\n1327\n3935\n0.337\n\n\ngarcino01\n1281\n3968\n0.323\n\n\nrunnepe01\n825\n2578\n0.320\n\n\nfoxxji01\n1051\n3288\n0.320\n\n\npeskyjo01\n1277\n4085\n0.313\n\n\nramirma02\n1232\n3953\n0.312\n\n\nlynnfr01\n944\n3062\n0.308\n\n\ngoodmbi01\n1344\n4399\n0.306"
  },
  {
    "objectID": "lessons/lsn_2_intro_to_R.html#merging-data-frames-pg-41",
    "href": "lessons/lsn_2_intro_to_R.html#merging-data-frames-pg-41",
    "title": "MA388 Sabermetrics: Lesson 2",
    "section": "Merging Data Frames (pg 41)",
    "text": "Merging Data Frames (pg 41)\nWhen using a relational database (what does that mean again?), a common task is to add information from one table to another. For example, consider our table above from the review. Add the player’s name and when they played their final game.\n\n# I called my table from the review redSox.\n\nredSox &lt;- redSox %&gt;%\n  left_join(select(People, playerID, nameLast, nameFirst, finalGame), by = \"playerID\" )\n\nYour turn…the HallofFame data frame contains data on every Hall of Fame ballot. Add to your table above whether the player is in the Hall of Fame. (hint: filter(inducted == \"Y\"))\n\n\n\nRed Sox career batting average leaders\n\n\n\n\n\n\n\n\n\n\n\n\n\nplayerID\nH\nAB\nAVG\nnameLast\nnameFirst\nfinalGame\nyearID\ninducted\n\n\n\n\nwillite01\n2654\n7706\n0.344\nWilliams\nTed\n1960-09-28\n1966\nY\n\n\nboggswa01\n2098\n6213\n0.338\nBoggs\nWade\n1999-08-27\n2005\nY\n\n\nspeaktr01\n1327\n3935\n0.337\nSpeaker\nTris\n1928-08-30\n1937\nY\n\n\ngarcino01\n1281\n3968\n0.323\nGarciaparra\nNomar\n2009-10-04\nNA\nNA\n\n\nrunnepe01\n825\n2578\n0.320\nRunnels\nPete\n1964-05-14\nNA\nNA\n\n\nfoxxji01\n1051\n3288\n0.320\nFoxx\nJimmie\n1945-09-23\n1951\nY\n\n\npeskyjo01\n1277\n4085\n0.313\nPesky\nJohnny\n1954-09-24\nNA\nNA\n\n\nramirma02\n1232\n3953\n0.312\nRamirez\nManny\n2011-04-06\nNA\nNA\n\n\nlynnfr01\n944\n3062\n0.308\nLynn\nFred\n1990-10-03\nNA\nNA\n\n\ngoodmbi01\n1344\n4399\n0.306\nGoodman\nBilly\n1962-09-30\nNA\nNA\n\n\n\n\n\nWhat cleaning would you still want to do to this table to make it more readable?\nWhat is the difference between left_join(), right_join(), inner_join(), and outer_join()?"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "MA388 Sabermetrics AY26-2",
    "section": "",
    "text": "Welcome to MA388 Sabermetrics for AY26-2.\nUse the navigation menu above to access lesson materials."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "lessons/lsn_1_course_intro.html",
    "href": "lessons/lsn_1_course_intro.html",
    "title": "MA388 Sabermetrics: Lesson 1",
    "section": "",
    "text": "Contact Information\nLTC Jim Pleuss\njames.pleuss@westpoint.edu\nThayer Hall Room 233\n845-938-7675\nPACE: email, Teams, drop-in, phone\n\n\nCourse Overview\nSabermetrics\n\nCourse Texts/Videos/Blogs\nHands-on/Interactive\nR/RStudio\nCalendar Overview\nGraded Events (Problem Sets and Project)\n\n\n\nIntroductions\nAt some point this semester everyone in this room will be graded on their ability to name everyone else in this room from memory. Start learning names today.\nPlease tell us your:\n\nPreferred Name\nHometown\nMajor\nBranch/Desired Branch\nActivities (Sports, Clubs, Interests)\nUnique Skill / Random Fact\nSong (title and artist) that ups your mood anytime you hear it.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDAW, Section Marcher Role\nBottom line: Do the right thing. I don’t want to have to correct you, but I will. If you don’t know what the right thing to do is, just ask. Too easy!\n\n\nCourse Introduction\nThis course is about three big things (in my mind):\n\nbaseball\nstatistics\ndata science skills\n\nYou’re going to learn a lot about all three. My hope is that you will recognize that the statistics we study and the data science skills you learn through our study of baseball are applicable to many other domains outside of baseball. Are we tricking you into learning some valuable skills by making it about baseball? Maybe…\n\nYou can expect me to…\n\nBe kind and treat you with respect.\nBe approachable and available.\nGet to know you as an individual.\nBe enthusiastic and show relevance of the course to your life.\nSet the conditions for your success.\nUnderstand you have other things going on in your life.\nMake mistakes.\n\n\n\nI expect you to…\n\nKeep an open mind and grow as future officers in our profession.\nBe responsible for your learning.\nUse a variety of sources to aid in understanding.\nKeep me informed of what’s going on in your life.\nActively participate in class.\nBe respectful of your classmates\nMake mistakes. Maybe even more than me…\n\n\n\nCourse Documentation (located on Canvas)\n\nSyllabus (Course Calendar)\nInstructional Memo\nLesson Notes (prior to the lesson)\nProblem Sets (about 10 days in advance of due date)\n\n\n\nCourse Texts\nThe Marchi, Albert, and Baumer text is available online: https://beanumber.github.io/abdwr3e/.\nA collection of functions and data sets for the Marchi text is available here: https://github.com/beanumber/abdwr3edata.\nThe Costa, Huber, and Saccoman text will be provided by the instructor later in the semester.\n\n\nBaseball Video\nIf you need a short introduction to the rules and general flow of a baseball game, this video is a good place to start.\n\nhttps://www.youtube.com/watch?v=skOsApsF0jQ\n\n\n\n\nChapter 1 - Baseball Datasets\n\nThe Lahman Database - Season by Season Data (since 1871)\nRetrosheet - Game by Game Data (since 1871); Play by Play Data (since 1921)\nPITCHf/x - Pitch by Pitch (since 2008)\nStatcast - Launch Angle, Exit Velocity, Distance, Player Positioning (since 2015)\n\nHow do we get all this amazing baseball data? Read Section 1.7 in ABDWR closely. Some data we’ll use will come from packages, and some data will take a bit more effort to assemble…but we can do it.\n\n\n\nChapter 2 - Intro to R\nTidyverse Verbs\n\nselect()\nfilter()\nmutate()\ngroup_by()\nsummarize()\narrange()\n\nLet’s investigate how home run rates in Major League Baseball have changed over time. The R package Lahman imports data from Sean Lahman’s Baseball Archive. In this example, we will use the Batting data frame in the package.\n\nlibrary(Lahman)    # loads data frames in the Lahman package\nlibrary(knitr)     # prints pretty tables with the kable function\nlibrary(tidyverse) # tons of useful stuff - ggplot2, dplyr, ...\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.2     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.1.0     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n# Batting data frame contains one line per player per season per stint.\n# Here are players with the most home runs for a single team in a season.\nBatting %&gt;% \n  select(playerID, yearID, stint, lgID, HR, AB) %&gt;% \n  arrange(-HR) %&gt;% \n  head(10) %&gt;% \n  kable()\n\n\n\n\nplayerID\nyearID\nstint\nlgID\nHR\nAB\n\n\n\n\nbondsba01\n2001\n1\nNL\n73\n476\n\n\nmcgwima01\n1998\n1\nNL\n70\n509\n\n\nsosasa01\n1998\n1\nNL\n66\n643\n\n\nmcgwima01\n1999\n1\nNL\n65\n521\n\n\nsosasa01\n2001\n1\nNL\n64\n577\n\n\nsosasa01\n1999\n1\nNL\n63\n625\n\n\njudgeaa01\n2022\n1\nAL\n62\n570\n\n\nmarisro01\n1961\n1\nAL\n61\n590\n\n\nruthba01\n1927\n1\nAL\n60\n540\n\n\nruthba01\n1921\n1\nAL\n59\n540\n\n\n\n\n\nSteps to coding an exploration of home run rates over the years:\n\nInclude only players in Major League Baseball.\nCalculate the total number of home runs (HR) and at-bats (AB) each season.\nCalculate the home run rate each season.\n\n\n# Calculate the home run rate for each season.\nhomeRuns &lt;- Batting %&gt;% \n  filter(lgID %in% c(\"AL\",\"NL\")) %&gt;% \n  group_by(yearID) %&gt;% \n  summarize(HR = sum(HR),\n            AB = sum(AB)) %&gt;% \n  mutate(rate = HR/AB)\n\nhomeRuns %&gt;% \n  head(10) %&gt;% \n  kable(digits = 4)\n\n\n\n\nyearID\nHR\nAB\nrate\n\n\n\n\n1876\n40\n20121\n0.0020\n\n\n1877\n24\n13667\n0.0018\n\n\n1878\n23\n13644\n0.0017\n\n\n1879\n58\n24155\n0.0024\n\n\n1880\n62\n24301\n0.0026\n\n\n1881\n76\n24377\n0.0031\n\n\n1882\n126\n24769\n0.0051\n\n\n1883\n124\n29012\n0.0043\n\n\n1884\n321\n32687\n0.0098\n\n\n1885\n174\n31123\n0.0056\n\n\n\n\n\nLet’s look at a plot (more on plotting next lesson)…\n\nhomeRuns %&gt;% \n  ggplot(aes(x = yearID,\n             y = rate)) +\n  geom_line() +\n  labs(x = \"Year\",\n       y = \"Home Run Rate\")\n\n\n\n\nHome run rate in Major League Baseball by year."
  }
]